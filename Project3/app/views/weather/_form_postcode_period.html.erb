

<% if params[:error] == "postcode" %>
  <p class='warning text-center'>Sorry, Please enter a Postcode</p>
<%elsif params[:error] == "period" %>
  <p class='warning text-center'>Sorry, Please enter a valid Period, i.e. 10</p>
<%end%>


<%= form_for :postcode , :url => {:controller => 'weather', :action => 'redirect_postcode_pred'},method: :get do |l| %>
    <%= l.text_field :code ,:id=>'bloodhoundOverwrite', :class=> "post_code form-control", placeholder: "Postcode (3000-3999)"  %>
    <%= l.text_field :period ,placeholder: "Time Period in minutes",:class=> "form-control" %>
  	<%= l.submit 'Search', :class => "btn btn-primary" %>
<% end %>


<script type="text/javascript">
var num = [{num: 3000}, {num: 3001}, {num: 3002}, {num: 3003}, {num: 3004}, {num: 3005}, {num: 3006}, {num: 3008}, {num: 3010}, {num: 3011}, {num: 3012}, {num: 3013}, {num: 3015}, {num: 3016}, {num: 3018}, {num: 3019}, {num: 3020}, {num: 3021}, {num: 3022}, {num: 3023}, {num: 3024}, {num: 3025}, {num: 3026}, {num: 3027}, {num: 3028}, {num: 3029}, {num: 3030}, {num: 3031}, {num: 3032}, {num: 3033}, {num: 3034}, {num: 3036}, {num: 3037}, {num: 3038}, {num: 3039}, {num: 3040}, {num: 3041}, {num: 3042}, {num: 3043}, {num: 3044}, {num: 3045}, {num: 3046}, {num: 3047}, {num: 3048}, {num: 3049}, {num: 3050}, {num: 3051}, {num: 3053}, {num: 3055}, {num: 3056}, {num: 3057}, {num: 3058}, {num: 3059}, {num: 3060}, {num: 3061}, {num: 3062}, {num: 3063}, {num: 3064}, {num: 3065}, {num: 3066}, {num: 3067}, {num: 3068}, {num: 3070}, {num: 3071}, {num: 3072}, {num: 3073}, {num: 3074}, {num: 3075}, {num: 3076}, {num: 3078}, {num: 3079}, {num: 3081}, {num: 3082}, {num: 3083}, {num: 3084}, {num: 3085}, {num: 3086}, {num: 3087}, {num: 3088}, {num: 3089}, {num: 3090}, {num: 3091}, {num: 3093}, {num: 3094}, {num: 3095}, {num: 3096}, {num: 3097}, {num: 3099}, {num: 3101}, {num: 3102}, {num: 3103}, {num: 3104}, {num: 3105}, {num: 3106}, {num: 3107}, {num: 3108}, {num: 3109}, {num: 3111}, {num: 3113}, {num: 3114}, {num: 3115}, {num: 3116}, {num: 3121}, {num: 3122}, {num: 3123}, {num: 3124}, {num: 3125}, {num: 3126}, {num: 3127}, {num: 3128}, {num: 3129}, {num: 3130}, {num: 3131}, {num: 3132}, {num: 3133}, {num: 3134}, {num: 3135}, {num: 3136}, {num: 3137}, {num: 3138}, {num: 3139}, {num: 3140}, {num: 3141}, {num: 3142}, {num: 3143}, {num: 3144}, {num: 3145}, {num: 3146}, {num: 3147}, {num: 3148}, {num: 3149}, {num: 3150}, {num: 3151}, {num: 3152}, {num: 3153}, {num: 3154}, {num: 3155}, {num: 3156}, {num: 3158}, {num: 3159}, {num: 3160}, {num: 3161}, {num: 3162}, {num: 3163}, {num: 3164}, {num: 3165}, {num: 3166}, {num: 3167}, {num: 3168}, {num: 3169}, {num: 3170}, {num: 3171}, {num: 3172}, {num: 3173}, {num: 3174}, {num: 3175}, {num: 3177}, {num: 3178}, {num: 3179}, {num: 3180}, {num: 3181}, {num: 3182}, {num: 3183}, {num: 3184}, {num: 3185}, {num: 3186}, {num: 3187}, {num: 3188}, {num: 3189}, {num: 3190}, {num: 3191}, {num: 3192}, {num: 3193}, {num: 3194}, {num: 3195}, {num: 3196}, {num: 3197}, {num: 3198}, {num: 3199}, {num: 3200}, {num: 3201}, {num: 3202}, {num: 3204}, {num: 3205}, {num: 3206}, {num: 3207}, {num: 3211}, {num: 3212}, {num: 3214}, {num: 3215}, {num: 3216}, {num: 3217}, {num: 3218}, {num: 3219}, {num: 3220}, {num: 3221}, {num: 3222}, {num: 3223}, {num: 3224}, {num: 3225}, {num: 3226}, {num: 3227}, {num: 3228}, {num: 3230}, {num: 3231}, {num: 3232}, {num: 3233}, {num: 3235}, {num: 3236}, {num: 3237}, {num: 3238}, {num: 3239}, {num: 3240}, {num: 3241}, {num: 3242}, {num: 3243}, {num: 3249}, {num: 3250}, {num: 3251}, {num: 3254}, {num: 3260}, {num: 3264}, {num: 3265}, {num: 3266}, {num: 3267}, {num: 3268}, {num: 3269}, {num: 3270}, {num: 3271}, {num: 3272}, {num: 3273}, {num: 3274}, {num: 3275}, {num: 3276}, {num: 3277}, {num: 3278}, {num: 3279}, {num: 3280}, {num: 3281}, {num: 3282}, {num: 3283}, {num: 3284}, {num: 3285}, {num: 3286}, {num: 3287}, {num: 3289}, {num: 3292}, {num: 3293}, {num: 3294}, {num: 3300}, {num: 3301}, {num: 3302}, {num: 3303}, {num: 3304}, {num: 3305}, {num: 3309}, {num: 3310}, {num: 3311}, {num: 3312}, {num: 3314}, {num: 3315}, {num: 3317}, {num: 3318}, {num: 3319}, {num: 3321}, {num: 3322}, {num: 3323}, {num: 3324}, {num: 3325}, {num: 3328}, {num: 3329}, {num: 3330}, {num: 3331}, {num: 3332}, {num: 3333}, {num: 3334}, {num: 3335}, {num: 3337}, {num: 3338}, {num: 3340}, {num: 3341}, {num: 3342}, {num: 3345}, {num: 3350}, {num: 3351}, {num: 3352}, {num: 3353}, {num: 3354}, {num: 3355}, {num: 3356}, {num: 3357}, {num: 3360}, {num: 3361}, {num: 3363}, {num: 3364}, {num: 3370}, {num: 3371}, {num: 3373}, {num: 3375}, {num: 3377}, {num: 3378}, {num: 3379}, {num: 3380}, {num: 3381}, {num: 3384}, {num: 3385}, {num: 3387}, {num: 3388}, {num: 3390}, {num: 3391}, {num: 3392}, {num: 3393}, {num: 3395}, {num: 3396}, {num: 3400}, {num: 3401}, {num: 3402}, {num: 3407}, {num: 3409}, {num: 3412}, {num: 3413}, {num: 3414}, {num: 3415}, {num: 3418}, {num: 3419}, {num: 3420}, {num: 3423}, {num: 3424}, {num: 3427}, {num: 3428}, {num: 3429}, {num: 3430}, {num: 3431}, {num: 3432}, {num: 3434}, {num: 3435}, {num: 3437}, {num: 3438}, {num: 3440}, {num: 3441}, {num: 3442}, {num: 3444}, {num: 3446}, {num: 3447}, {num: 3448}, {num: 3450}, {num: 3451}, {num: 3453}, {num: 3458}, {num: 3460}, {num: 3461}, {num: 3462}, {num: 3463}, {num: 3464}, {num: 3465}, {num: 3467}, {num: 3468}, {num: 3469}, {num: 3472}, {num: 3475}, {num: 3478}, {num: 3480}, {num: 3482}, {num: 3483}, {num: 3485}, {num: 3487}, {num: 3488}, {num: 3489}, {num: 3490}, {num: 3491}, {num: 3494}, {num: 3496}, {num: 3498}, {num: 3500}, {num: 3501}, {num: 3502}, {num: 3505}, {num: 3506}, {num: 3507}, {num: 3509}, {num: 3512}, {num: 3515}, {num: 3516}, {num: 3517}, {num: 3518}, {num: 3520}, {num: 3521}, {num: 3522}, {num: 3523}, {num: 3525}, {num: 3527}, {num: 3529}, {num: 3530}, {num: 3531}, {num: 3533}, {num: 3537}, {num: 3540}, {num: 3542}, {num: 3544}, {num: 3546}, {num: 3549}, {num: 3550}, {num: 3551}, {num: 3552}, {num: 3555}, {num: 3556}, {num: 3557}, {num: 3558}, {num: 3559}, {num: 3561}, {num: 3562}, {num: 3563}, {num: 3564}, {num: 3565}, {num: 3566}, {num: 3567}, {num: 3568}, {num: 3570}, {num: 3571}, {num: 3572}, {num: 3573}, {num: 3575}, {num: 3576}, {num: 3579}, {num: 3580}, {num: 3581}, {num: 3583}, {num: 3584}, {num: 3585}, {num: 3586}, {num: 3588}, {num: 3589}, {num: 3590}, {num: 3591}, {num: 3594}, {num: 3595}, {num: 3596}, {num: 3597}, {num: 3599}, {num: 3607}, {num: 3608}, {num: 3610}, {num: 3612}, {num: 3614}, {num: 3616}, {num: 3617}, {num: 3618}, {num: 3619}, {num: 3620}, {num: 3621}, {num: 3622}, {num: 3623}, {num: 3624}, {num: 3629}, {num: 3630}, {num: 3631}, {num: 3632}, {num: 3633}, {num: 3634}, {num: 3635}, {num: 3636}, {num: 3637}, {num: 3638}, {num: 3639}, {num: 3640}, {num: 3641}, {num: 3643}, {num: 3644}, {num: 3646}, {num: 3647}, {num: 3649}, {num: 3658}, {num: 3659}, {num: 3660}, {num: 3661}, {num: 3663}, {num: 3664}, {num: 3665}, {num: 3666}, {num: 3669}, {num: 3670}, {num: 3671}, {num: 3672}, {num: 3673}, {num: 3675}, {num: 3676}, {num: 3677}, {num: 3678}, {num: 3682}, {num: 3683}, {num: 3685}, {num: 3687}, {num: 3688}, {num: 3689}, {num: 3690}, {num: 3691}, {num: 3694}, {num: 3695}, {num: 3697}, {num: 3699}, {num: 3700}, {num: 3701}, {num: 3704}, {num: 3705}, {num: 3707}, {num: 3708}, {num: 3709}, {num: 3711}, {num: 3712}, {num: 3713}, {num: 3714}, {num: 3715}, {num: 3717}, {num: 3718}, {num: 3719}, {num: 3720}, {num: 3722}, {num: 3723}, {num: 3724}, {num: 3725}, {num: 3726}, {num: 3727}, {num: 3728}, {num: 3730}, {num: 3732}, {num: 3733}, {num: 3735}, {num: 3736}, {num: 3737}, {num: 3738}, {num: 3739}, {num: 3740}, {num: 3741}, {num: 3744}, {num: 3746}, {num: 3747}, {num: 3749}, {num: 3750}, {num: 3751}, {num: 3752}, {num: 3753}, {num: 3754}, {num: 3755}, {num: 3756}, {num: 3757}, {num: 3758}, {num: 3759}, {num: 3760}, {num: 3763}, {num: 3764}, {num: 3765}, {num: 3766}, {num: 3767}, {num: 3770}, {num: 3775}, {num: 3777}, {num: 3778}, {num: 3779}, {num: 3781}, {num: 3782}, {num: 3783}, {num: 3785}, {num: 3786}, {num: 3787}, {num: 3788}, {num: 3789}, {num: 3791}, {num: 3792}, {num: 3793}, {num: 3795}, {num: 3796}, {num: 3797}, {num: 3799}, {num: 3800}, {num: 3802}, {num: 3803}, {num: 3804}, {num: 3805}, {num: 3806}, {num: 3807}, {num: 3808}, {num: 3809}, {num: 3810}, {num: 3812}, {num: 3813}, {num: 3814}, {num: 3815}, {num: 3816}, {num: 3818}, {num: 3820}, {num: 3821}, {num: 3822}, {num: 3823}, {num: 3824}, {num: 3825}, {num: 3831}, {num: 3832}, {num: 3833}, {num: 3835}, {num: 3840}, {num: 3842}, {num: 3844}, {num: 3847}, {num: 3850}, {num: 3851}, {num: 3852}, {num: 3853}, {num: 3854}, {num: 3856}, {num: 3857}, {num: 3858}, {num: 3859}, {num: 3860}, {num: 3862}, {num: 3864}, {num: 3865}, {num: 3869}, {num: 3870}, {num: 3871}, {num: 3873}, {num: 3874}, {num: 3875}, {num: 3878}, {num: 3880}, {num: 3882}, {num: 3885}, {num: 3886}, {num: 3887}, {num: 3888}, {num: 3889}, {num: 3890}, {num: 3891}, {num: 3892}, {num: 3893}, {num: 3895}, {num: 3896}, {num: 3898}, {num: 3900}, {num: 3902}, {num: 3903}, {num: 3904}, {num: 3909}, {num: 3910}, {num: 3911}, {num: 3912}, {num: 3913}, {num: 3915}, {num: 3916}, {num: 3918}, {num: 3919}, {num: 3921}, {num: 3922}, {num: 3923}, {num: 3925}, {num: 3926}, {num: 3927}, {num: 3928}, {num: 3929}, {num: 3930}, {num: 3931}, {num: 3933}, {num: 3934}, {num: 3936}, {num: 3937}, {num: 3938}, {num: 3939}, {num: 3941}, {num: 3942}, {num: 3943}, {num: 3944}, {num: 3945}, {num: 3946}, {num: 3950}, {num: 3951}, {num: 3953}, {num: 3954}, {num: 3956}, {num: 3957}, {num: 3958}, {num: 3959}, {num: 3960}, {num: 3962}, {num: 3964}, {num: 3965}, {num: 3966}, {num: 3967}, {num: 3971}, {num: 3975}, {num: 3976}, {num: 3977}, {num: 3978}, {num: 3979}, {num: 3980}, {num: 3981}, {num: 3984}, {num: 3987}, {num: 3988}, {num: 3990}, {num: 3991}, {num: 3992}, {num: 3995}, {num: 3996}
];
  
// Twitter typeahead example.

// instantiate the bloodhound suggestion engine
var numbers = new Bloodhound({
  datumTokenizer: Bloodhound.tokenizers.obj.whitespace('num'),
  queryTokenizer: Bloodhound.tokenizers.whitespace,
  local: num
  
});


// initialize the bloodhound suggestion engine
numbers.initialize();

// instantiate the typeahead UI
$('.post_code').typeahead(null, {
  displayKey: 'num',
  source: numbers.ttAdapter()
});</script>